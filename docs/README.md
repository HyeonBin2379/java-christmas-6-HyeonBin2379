# 4주차: 크리스마스 프로모션 - 구현할 기능 및 테스트 목록 정리
1. [구현할 기능 목록](#구현할-기능-목록)
2. [테스트 목록](#테스트-목록)

---
## 핵심 기능 개요
* 주어진 메뉴에서 주문할 메뉴와 개수를 선택한 다음 총 주문금액 산출하기
* 현재 진행중인 이벤트와 혜택을 적용하여 총주문금액 할인하기
* 총혜택금액에 따른 이벤트 배지 부여하기

## 입력 단계 기능 요구사항
### 입력 단계 공통
* 최초 실행 시 `안녕하세요! 우테코 식당 12월 이벤트 플래너입니다.` 메시지 출력

### 식당 예상 방문 날짜 입력
* `12월 중 식당 예상 방문 날짜는 언제인가요? (숫자만 입력해 주세요!)` 메시지 출력
* 방문 날짜는 문자열로 입력
  * 방문할 날짜는 1 이상 31 이하의 숫자 입력
  * 잘못된 입력의 조건
    * 입력값이 빈 문자열이거나 공백문자가 사용된 문자열인 경우 예외 처리
    * 정수로 변환할 수 없는 문자열인 경우
    * 변환된 정수가 1 이상 31 이하의 정수가 아닌 경우
  * 잘못된 입력값일 경우 예외 처리 
    * IllegalArgumentException 발생 후 `[ERROR] 유효하지 않은 날짜입니다. 다시 입력해 주세요.` 메시지 출력
    * 방문 날짜 입력을 처음부터 다시 수행

### 주문할 메뉴 입력
* `주문하실 메뉴를 메뉴와 개수를 알려 주세요. (e.g. 해산물파스타-2,레드와인-1,타파스-1,제로콜라-1)` 메시지 출력
* 주문할 메뉴와 그 개수를 입력
* 잘못된 입력의 조건
  * 잘못된 입력일 경우 IllegalArgumentException 발생
  * 입력값이 빈 문자열이거나 공백문자가 사용된 문자열인 경우 예외 처리
  * 각 메뉴를 구분하는 쉼표(,)가 문자열의 처음이나 끝에 사용되었거나 연속으로 사용된 경우
  * 아래의 경우 `[ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요.` 메시지 출력
    * 메뉴의 형식이 예시와 다른 경우, 즉 `(메뉴명)-n개` 형식이 아닌 경우(n = 해당 메뉴의 개수)
    * 메뉴판에 없는 메뉴를 입력한 경우
    * 주문한 메뉴의 개수가 1 이상의 숫자가 아닌 경우
    * 중복된 메뉴를 입력한 경우
* 잘못된 입력값일 경우 에러 메시지 출력 후, 주문할 메뉴와 그 개수의 입력을 처음부터 다시 수행
* 주문할 메뉴와 그 개수가 유효하면 Map<Enum, Integer> 형식으로 저장

## 총주문개수 산정 단계 기능 요구사항
### 할인 전 총주문 금액 및 총주문 개수 산정
* 총주문개수 = 각 메뉴별 주문 개수의 총합
  * e.g. 시저샐러드-1, 티본스테이크-1, 크리스마스파스타-1, 제로콜라-3, 아이스크림-1의 총개수는 7개

* 주문 메뉴와 주문 개수에 관한 이벤트 주의사항에 위배되는 경우
  * 잘못된 입력값이므로 IllegalArgumentException 발생
  * 에러메시지 출력
    * 총 주문개수가 20개를 초과한 경우 `[ERROR] 총 주문 개수가 20개를 초과합니다.` 메시지 출력
    * 음료만 주문한 경우 `[ERROR] 음료만 주문할 수 없습니다.` 메시지 출력
      * 음료 메뉴에 관한 부분집합 활용
  * 주문 메뉴와 그 개수에 관한 Map을 전부 비운 후 주문 메뉴와 그 개수를 다시 입력

* 할인 전 총주문금액 = (주문한 메뉴 1개의 가격 * 주문 개수)의 총합


## 출력 단계 기능 요구사항
### 주문 메뉴 및 총주문금액 출력 단계
#### 주문 메뉴 출력
* `<주문 메뉴>` 타이틀 출력
* 주문 메뉴 출력 순서 설정은 자유
* `(주문 메뉴) n개`와 같은 형식으로 출력(n = 해당 메뉴를 주문한 개수)

#### 할인 전 총주문금액 출력
* `<할인 전 총주문금액>` 타이틀 출력
* 금액은 천 단위마다 쉼표(,)로 구분
* `n원`과 같은 형식으로 출력
  * n은 양수이고, 천 단위마다 쉼표(,)로 구분


### 할인 금액 및 총혜택금액 산정
#### 할인 금액 산정 기준
* 할인 금액
  * 할인 전 총주문금액, 입력받은 날짜, 주문한 메뉴를 통해 산정
  * 처음에는 0으로 초기화

#### 각 이벤트별 할인금액 및 총혜택금액 산정
* 이벤트 적용 조건: 총주문금액이 10,000원 이상
* 이벤트별 할인금액 공통
  * 각 이벤트별 할인금액, 증정 메뉴 가격은 음수로 변환
  * 총할인금액: 증정 이벤트를 제외한 모든 이벤트에서의 할인금액의 총합
  * 총혜택금액: 총할인금액 + 증정 메뉴 가격(25,000원)

* 크리스마스 디데이 할인
  * 1일부터 25일까지 적용 가능한 이벤트
  * 할인 금액: 1000 + 100*(입력날짜-1)
* 평일 할인
  * 1일부터 31일까지 적용 가능한 이벤트
  * 평일: 입력 날짜를 7로 나눈 나머지가 1, 2 이외의 값인 경우
  * 할인 금액: 2,023*(주문한 디저트 메뉴의 총 개수)
* 주말 할인
  * 1일부터 31일까지 적용 가능한 이벤트
  * 주말: 입력 날짜를 7로 나눈 나머지가 1 또는 2인 경우
  * 할인 금액: 2,023*(주문한 메인 메뉴의 총 개수) 
* 특별 할인
  * 1일부터 31일까지 적용 가능한 이벤트
  * 매주 일요일 또는 크리스마스(25일)에 적용 가능
  * 일요일 = 입력 날짜를 7로 나눈 나머지가 3
  * 할인 금액: 1,000원
* 증정 이벤트
  * 1일부터 31일까지 적용 가능한 이벤트
  * 총주문금액이 120,000원 이상일 때, 샴페인 1개(25,000원) 증정
  * 할인 금액에는 미반영, 총혜택금액에는 반영

* 적용된 이벤트가 1개도 없는 경우
  * 총주문금액이 10,000원 미만인 경우
  * 할인금액, 총혜택금액은 모두 0원


### 이벤트 적용 결과 출력
#### 증정 메뉴
* `<증정 메뉴>` 타이틀 출력
* 총주문금액이 120,000원 이상인 경우 `(메뉴명) n개`와 같은 형식으로 출력
  * 주어진 조건에서는 `샴페인 1개` 출력
* 총주문금액이 120,000원 미만이면 `없음` 출력

#### 혜택 내역
* `<혜택 내역>` 타이틀 출력
* 총주문금액이 10,000원 이상인 경우 `(이벤트명): (할인금액)원`과 같은 형식으로 출력
  * 할인 금액은 음수이고, 천 단위마다 쉼표(,)로 구분
* 총주문금액이 10,000원 미만인 경우 `없음` 출력
* 혜택 내역 출력 순서는 자유롭게 설정

#### 총혜택 금액
* `<총혜택 금액>` 타이틀 출력
* 총혜택금액 = 총할인금액 + (증정 메뉴 금액 * 개수)
* `n원`으로 출력
  * n은 양수이고, 천 단위마다 쉼표(,)로 구분

#### 할인 후 예상 결제 금액
* `<할인 후 예상 결제 금액>` 타이틀 출력
* 할인 후 예상 결제 금액: (할인 전 총주문금액) - (총할인금액)
* `n원`으로 출력
  * n은 양수이고, 천 단위마다 쉼표(,)로 구분

#### 12월 이벤트 배지
* `12월 이벤트 배지` 출력
* 총혜택금액이 5,000원 미만: `없음` 출력
* 총혜택금액이 5,000원 이상 10,000원 미만: `별` 출력
* 총혜택금액이 10,000원 이상 20,000원 이상: `트리` 출력
* 총혜택금액이 20,000원 이상: `산타` 출력


---

## 테스트 목록